@{
    ViewData["Title"] = "Open Redirect Demo - Index";
}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>@ViewData["Title"]</title>

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />

    <style>
        body {
            background: linear-gradient(135deg, #f3f8ff, #e0f7fa);
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        .hero {
            text-align: center;
            padding: 80px 20px;
            background: #0d6efd;
            color: white;
            border-radius: 0 0 40px 40px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
        }

            .hero h1 {
                font-size: 2.8rem;
                margin-bottom: 15px;
            }

            .hero p {
                font-size: 1.1rem;
            }

        .card {
            border-radius: 15px;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

            .card:hover {
                transform: translateY(-5px);
                box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);
            }

        .footer {
            text-align: center;
            padding: 20px;
            margin-top: 40px;
            background-color: #f8f9fa;
            border-top: 1px solid #dee2e6;
            color: #555;
        }

        .btn-custom {
            background-color: #0d6efd;
            color: white;
            border-radius: 10px;
            padding: 10px 20px;
        }

            .btn-custom:hover {
                background-color: #0b5ed7;
            }
    </style>
</head>

<body>
    <!-- Header Section -->
    <section class="hero">
        <h1>Open Redirect Attack Demonstration</h1>
        <p class="lead">Learn how open redirect vulnerabilities occur and how to protect your web applications using ASP.NET Core MVC.</p>
    </section>

    <!-- Content Section -->
    <div class="container mt-5">
        <div class="row text-center">
            <div class="col-md-4 mb-4">
                <div class="card shadow-sm p-4">
                    <h4>Unsafe Redirect</h4>
                    <p>Demonstrates how a redirect can lead to a malicious site if not properly validated.</p>
                    <a href="/Test/GoLocalRedirect?url=http://example.com" class="btn btn-danger mt-2">Try Unsafe Redirect</a>
                </div>
            </div>

            <div class="col-md-4 mb-4">
                <div class="card shadow-sm p-4">
                    <h4>Safe Redirect (Local)</h4>
                    <p>Uses <code>LocalRedirect()</code> to ensure redirects stay within the same application.</p>
                    <a href="/Test/GoLocalRedirect?url=/Test/Create" class="btn btn-success mt-2">Test Local Redirect</a>
                </div>
            </div>

            <div class="col-md-4 mb-4">
                <div class="card shadow-sm p-4">
                    <h4>Safe Redirect with Validation</h4>
                    <p>Validates the URL using <code>Url.IsLocalUrl()</code> before redirecting safely.</p>
                    <a href="/Test/GoIsLocalUrl?url=/Test/Create" class="btn btn-custom mt-2">Check Valid URL</a>
                </div>
            </div>
        </div>

        <!-- Info Section -->
        <div class="mt-5">
            <h3 class="text-center mb-3">What is an Open Redirect?</h3>
            <p class="text-muted text-center mx-auto" style="max-width: 700px;">
                An open redirect happens when an application accepts user input that determines the redirect destination
                without validation. Attackers exploit this to send users to malicious websites.
                ASP.NET Core provides safe redirect methods such as <code>LocalRedirect()</code> and <code>Url.IsLocalUrl()</code>
                to prevent such vulnerabilities.
            </p>
        </div>
    </div>

    <!-- Footer -->
    <footer class="footer">
        <p>&copy; @DateTime.Now.Year | ASP.NET Core MVC Security Lab | Created by Surajan Shrestha</p>
    </footer>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
